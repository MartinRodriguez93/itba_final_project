version: 2

seeds:
  - name: dim_customers
    description: This dataset has information about the customer and its location. Use it to identify unique customers in the orders dataset and to find the orders delivery location. At our system each order is assigned to a unique customer_id. This means that the same customer will get different ids for different orders. The purpose of having a customer_unique_id on the dataset is to allow you to identify customers that made repurchases at the store. Otherwise you would find that each order had a different customer associated with.
    columns:
      - name: customer_id
        tests:
          - unique
          - not_null
  - name: dim_products
    description: This dataset includes data about the products sold by Olist.
    columns:
      - name: product_id
        tests:
          - unique
          - not_null
  - name: dim_sellers
    description: This dataset includes data about the sellers that fulfilled orders made at Olist. Use it to find the seller location and to identify which seller fulfilled each product.
    columns:
      - name: seller_id
        tests:
          - unique
          - not_null
  - name: order_items
    description: This dataset includes data about the items purchased within each order.
    columns:
      - name: product_id
        tests:
          - relationships:
              to: ref('dim_products')
              field: product_id
      - name: seller_id
        tests:
          - relationships:
              to: ref('dim_sellers')
              field: seller_id
    tests:
      - unique:
          column_name: "order_id || '-' || order_item_id"
  - name: order_payments
    description: This dataset includes data about the orders payment options.
    columns:
      - name: payment_type
        tests:
          - accepted_values:
              values: ['credit_card', 'voucher','not_defined','debit_card', 'boleto']
              config:
                severity: warn
    tests:
      - unique:
          column_name: "order_id || '-' || payment_sequential"
  - name: product_category_name_translation
    description: Translates the product_category_name to english.
        