version: 2

sources:
    - name: coffee_shop
      database: gold-circlet-411323
      schema: source_dataset

      tables:
            - name: source_system_orders
              columns:
                - name: order_id
                  tests:
                    - not_null
                - name: customer_id
                  tests:
                    - relationships:
                        to: ref('dim_customers')
                        field: customer_id
                - name: product_id
                  tests:
                    - relationships:
                        to: ref('dim_products')
                        field: product_id