version: 2

sources:
    - name: olist
      database: gold-circlet-411323
      schema: source_dataset

      tables:
            - name: source_system_orders
              columns:
                - name: order_id
                  tests:
                    - unique
                    - not_null
                - name: customer_id
                  tests:
                    - relationships:
                        to: ref('dim_customers')
                        field: customer_id
                - name: order_status
                  tests:
                    - accepted_values:
                        values: ['shipped', 'delivered','unavailable','invoiced']
                        config:
                          severity: warn