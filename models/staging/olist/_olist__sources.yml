version: 2

sources:
    - name: olist
      database: gold-circlet-411323
      schema: source_dataset

      tables:
            - name: source_system_orders
              description: This is the core dataset. From each order you might find all other information.
              columns:
                - name: order_id
                  tests:
                    - unique
                    - not_null
                - name: customer_id
                  tests:
                    - relationships:
                        to: ref('dim_customers')
                        field: customer_id
                - name: order_status
                  tests:
                    - accepted_values:
                        values: ['shipped', 'delivered','unavailable','invoiced', 'canceled']
                        config:
                          severity: warn
            - name: source_system_order_reviews
              description: This dataset includes data about the reviews made by the customers. After a customer purchases the product from Olist Store a seller gets notified to fulfill that order. Once the customer receives the product or the estimated delivery date is due, the customer gets a satisfaction survey by email where he can give a note for the purchase experience and write down some comments.
              columns:
                - name: review_id
                  tests:
                    - not_null
                - name: review_score
                  tests:
                    - accepted_values:
                        values: [1, 2, 3, 4, 5]
                        quote: false                 